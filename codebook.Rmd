---
title: "CodeBook generator"
author: "Russell Dinnage"
date: "25/05/2014"
output: md_document
---

The data set found in the file `Dinnage_GCDR_Assignment_tidyData.csv` is a summary of several variables found in the Human Activity Recognition Using Smartphones Dataset. The variables were generated by applying transformations and statistical summaries to a large amount of raw data recorded by the accelerometers and gyroscopes on Smartphones worn by experimental subjects.

Subjects were asked to perform several activities (WALKING, WALKING_UPSTAIRS, WALKING_DOWNSTAIRS, SITTING, STANDING, and LAYING) while the accelerometers and gyroscopes collected data in three dimensions. These data were then summarized using a number of different methods. The current dataset only uses the mean and standard deviation measurements from the original experiment. Furthermore, this dataset only contains the means of these variables (e.g. the mean of the means, and the mean of the standard deviations), calculated for each subject and activity combination.

Each row represents a seperate subject-activity combination. Column one contains the subject ID, and column two the activity label. The remaining 66 columns are the means of the mean and standard deviation for a number of variables measured in the original experiment. Columns 3 through 68 have names that follow this template "**[domain][measurement]**\_**[summary method]**\_**[axis]**".

**[domain]** is the domain of the measurement. t stands for time domain signal. f stands for frequency domain signal (variables generated by a Fast Fourier Transform). Note that variables that start with 'f' have no XYZ axial dimensions, so there is only a single variable for each measurment.

**[measurement]** is the type of measurement from the Smartphone, which were as follows:

```{r,echo=FALSE,results='asis',warning=FALSE,message=FALSE}
library(dplyr)
library(magrittr)
library(knitr)
measure<-c(
"BodyAcc",
"GravityAcc",
"BodyAccJerk",
"BodyGyro",
"BodyGyroJerk",
"BodyAccMag",
"GravityAccMag",
"BodyAccJerkMag",
"BodyGyroMag",
"BodyGyroJerkMag") %>% data.frame %>% set_names("Measurement") %>% 
  mutate(Description = c("Body acceleration signals",
                         "Gravity acceleration signals",
                         "Body acceleration jerk signals",
                         "Body gyroscope signals",
                         "Body gyroscope jerk signals",
                         "Body acceleration magnitude",
                         "Gravity acceleration magnitude",
                         "Body acceleration jerk magnitude",
                         "Body gyroscope magnitude",
                         "Body gyroscope jerk magnitude"))
kable(measure)

```

**[summary method]** is the method used to summarise the raw data for each run of the experiment. There are two in this dataset, the mean of the measurements, and the standard deviation of the measurements.

**[axis]** is the dimensional axis across which the measurment was taken, if applicable. The three axes are X, Y, and Z, so the full set contains data for movement in all three dimensions. The magnitude data does not contain X, Y, and Z dimensions because it is the euclidean norm of all three dimensions combined (treated as a vector in 3-space). 

The full list of variables with descriptions is below:

```{r,echo=FALSE,results='asis',warning=FALSE,message=FALSE}
dat<-read.csv("/home/din02g/Google Drive/Coursera/Data Scientist Specialization/Getting and Cleaning Data/GCDR-assignment/UCI HAR Dataset/Dinnage_GCDR_Assignment_tidyData.csv")
nam<-colnames(dat)[c(-1,-2)]
ff<-substr(nam,1,1)
substr(nam,1,1)<-""
rest<-strsplit(nam,"_",fixed=TRUE)
mm<-sapply(rest,function(x) x[1])
rownames(measure)<-measure$Measurement
ss<-sapply(rest,function(x) x[2])
dd<-sapply(rest,function(x) x[3])
mm2<-measure[mm,2]
ff2<-sapply(ff,l(x->if(x=="t"){"(time domain signal)"}
                 else{"(frequency domain signal)"}))
ss2<-sapply(ss,l(x->if(x=="mean"){"Mean of the"}
                 else{"Standard Deviation of the"}))
dd[is.na(dd)]<-""
dd2<-sapply(dd,l(x->{if(x=="X"){return("in the X dimension")}
                 else if(x=="Y"){return("in the Y dimension")}
                 else if(x=="Z"){return("in the Z dimension")}
                 else {return("")}
                 }))
desc<-paste(ss2,tolower(mm2),dd2,ff2,sep=" ")
tab<-colnames(dat) %>% data.frame %>% set_names("Variable Name") %>%
  mutate(Description=c("The subject identification number",
                       "The name of the activity being performed",
                       desc))
kable(tab)
```

